{"version":3,"sources":["staged/css-vars.ts","staged/util.ts","staged/useDragging.ts","staged/useStopDragClick.ts","staged/StagedDraggable.tsx","staged/useAutoSlide.ts","staged/index.tsx","staged/useArrangeAfterResize.ts","staged/usePaging.ts","staged/useSlides.tsx","mocks.ts","Img.tsx","Example1.tsx","Example2.tsx","Example3.tsx","Example4.tsx","index.tsx","App.tsx"],"names":["CssVar","XFactor","_set","name","value","current","style","setProperty","_setX","factor","CENTER","TRANSFORM_X","clientWidth","_transitionOne","ref","xFactor","DURATION","finish","CssVars","prev","LEFT","next","RIGHT","center","update","transition","trans","Promise","resolve","setTimeout","amount","AMOUNT","String","animation","ANIMATION","modulo","num","base","pageX","e","touches","useDragging","stagedRef","autoSlider","isLeft","isRight","stopClick","useRef","useEffect","stopDraggedClick","stopPropagation","addEventListener","removeEventListener","useStopDragClick","lastEnteredX","undefined","draggedX","useCallback","stop","currentX","totalDraggedX","start","Math","abs","StagedDraggable","outerRef","forwardRef","slides","onEnter","onMove","onLeave","className","onMouseDown","onTouchStart","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","onMouseLeave","noopAutoSlider","useAutoSlide","autoSlide","useMemo","id","setInterval","clearInterval","createAutoSlider","Staged","children","hideArrows","noDrag","infinity","rearrangeAfterResize","window","useArrangeAfterResize","useLayoutEffect","useInitCssVars","length","useState","pos","paged","state","setState","page","then","pageRef","usePaging","amounts","Array","map","_","i","key","useSlides","onClick","articles","authors","title","cover","Img","article","clicked","setClicked","src","alt","draggable","Example1","a","differentSort","sort","random","Example2","setAutoSlide","onChange","target","isNaN","htmlFor","type","Example3","slice","Example4","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.34df8e25.chunk.js","sourcesContent":["import { MutableRefObject, useLayoutEffect } from 'react';\n\nexport type StagedRef = MutableRefObject<HTMLDivElement | null>;\nexport type SlideAnimation = typeof CSSStyleDeclaration.prototype.animation;\nexport const ANIMATION_TIME = 0.5; // in seconds\n\nenum CssVar {\n    DURATION = '--s-trans-dur',\n    ANIMATION = '--s-trans-animation',\n    TRANSFORM_X = '--s-transform-x',\n    AMOUNT = '--s-amount',\n}\n\nconst _set = ({ current }: StagedRef, name: CssVar, value: string): void => {\n    if (current) {\n        current.style.setProperty(name, value);\n    }\n};\n\nenum XFactor {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2,\n}\n\nconst _setX = ({ current }: StagedRef, value: number = 0, factor: XFactor = XFactor.CENTER): void => {\n    if (current) {\n        current.style.setProperty(CssVar.TRANSFORM_X, `${-current.clientWidth * factor + value}px`);\n    }\n};\nconst _transitionOne = (ref: StagedRef, xFactor: XFactor) => {\n    _set(ref, CssVar.DURATION, `${ANIMATION_TIME}s`);\n    _setX(ref, 0, xFactor);\n};\n\nconst prev = (ref: StagedRef) => _transitionOne(ref, XFactor.LEFT);\nconst center = (ref: StagedRef) => _transitionOne(ref, XFactor.CENTER);\nconst next = (ref: StagedRef) => _transitionOne(ref, XFactor.RIGHT);\nconst update = (ref: StagedRef, value: number) => _setX(ref, value);\nconst amount = (ref: StagedRef, value: number) => _set(ref, CssVar.AMOUNT, String(value));\nconst animation = (ref: StagedRef, value: SlideAnimation = 'ease-out') => _set(ref, CssVar.ANIMATION, value);\n\nconst finish = (ref: StagedRef) => {\n    _set(ref, CssVar.DURATION, '0');\n    _setX(ref, 0, XFactor.CENTER);\n};\n\nconst transition = (ref: StagedRef, trans: (ref: StagedRef) => void): Promise<void> => {\n    trans(ref);\n    return new Promise(resolve => {\n        setTimeout(() => {\n            finish(ref);\n            resolve();\n        }, 1000 * ANIMATION_TIME);\n    });\n};\n\nexport const useInitCssVars = (ref: StagedRef, amount: number, animation?: SlideAnimation) => {\n    useLayoutEffect(() => {\n        CssVars.amount(ref, amount);\n    }, [amount]); // eslint-disable-line react-hooks/exhaustive-deps\n    useLayoutEffect(() => {\n        CssVars.animation(ref, animation);\n    }, [animation]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport const CssVars = { prev, next, center, finish, update, transition, amount, animation };\n","export const modulo = (num: number, base: number) => ((num % base) + base) % base;\n","import { CssVars, StagedRef } from './css-vars';\nimport { MouseEvent, TouchEvent, useCallback, useRef } from 'react';\nimport { useStopDragClick } from './useStopDragClick';\nimport { AutoSlider } from './useAutoSlide';\n\nconst DRAG_INTENT_RATE = 0.1; // in [0, 1]\n\ntype TouchOrMouseEvent = TouchEvent<HTMLDivElement> | MouseEvent<HTMLDivElement>;\nconst pageX = (e: TouchOrMouseEvent): number => ('touches' in e ? (e.touches[0] as any).pageX : e.pageX);\n\ntype TouchOrMouseCb = (e: TouchOrMouseEvent) => void;\ntype UseDraggingReturnType = [TouchOrMouseCb, TouchOrMouseCb, TouchOrMouseCb];\n\nexport const useDragging = (\n    ref: StagedRef,\n    stagedRef: StagedRef,\n    prev: () => void,\n    next: () => void,\n    autoSlider: AutoSlider,\n    isLeft: boolean,\n    isRight: boolean\n): UseDraggingReturnType => {\n    const stopClick = useStopDragClick(stagedRef);\n    const lastEnteredX = useRef<number | void>(undefined);\n    const draggedX = useRef<number>(0);\n\n    const onEnter = useCallback(\n        e => {\n            autoSlider.stop();\n            lastEnteredX.current = pageX(e);\n        },\n        [autoSlider]\n    );\n\n    const onMove = useCallback(\n        e => {\n            const currentX = lastEnteredX.current;\n            if (currentX !== undefined) {\n                draggedX.current = pageX(e) - currentX;\n                if (isLeft && draggedX.current > 0) return;\n                if (isRight && draggedX.current < 0) return;\n                CssVars.update(ref, draggedX.current);\n            }\n        },\n        [isLeft, isRight] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    const onLeave = useCallback(() => {\n        const { current } = ref;\n        const currentX = lastEnteredX.current;\n        const totalDraggedX = draggedX.current;\n        if (current && currentX !== undefined) {\n            // only inside here we need to perform any actions\n            autoSlider.start();\n            lastEnteredX.current = undefined;\n            draggedX.current = 0;\n            stopClick.current = !!totalDraggedX;\n            const wasDragIntent = Math.abs(totalDraggedX) / current.clientWidth > DRAG_INTENT_RATE;\n            if (wasDragIntent) {\n                if (isLeft && totalDraggedX > 0) return;\n                if (isRight && totalDraggedX < 0) return;\n                return totalDraggedX < 0 ? next() : prev();\n            }\n            CssVars.transition(ref, CssVars.center);\n        }\n    }, [next, prev, stopClick, autoSlider, isLeft, isRight]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return [onEnter, onMove, onLeave];\n};\n","import { MutableRefObject, useEffect, useRef } from 'react';\nimport { StagedRef } from './css-vars';\n\nexport const useStopDragClick = (ref: StagedRef): MutableRefObject<boolean> => {\n    const stopClick = useRef<boolean>(false);\n\n    useEffect(() => {\n        const { current } = ref;\n\n        const stopDraggedClick = (e: Event) => {\n            if (stopClick.current) e.stopPropagation();\n        };\n        if (current) {\n            current.addEventListener('click', stopDraggedClick, true);\n            return () => current.removeEventListener('click', stopDraggedClick, true);\n        }\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return stopClick;\n};\n","import React, { ReactNode } from 'react';\nimport { StagedRef } from './css-vars';\nimport { useDragging } from './useDragging';\nimport { AutoSlider } from './useAutoSlide';\n\nexport type StagedDraggableProps = {\n    outerRef: StagedRef;\n    forwardRef: StagedRef;\n    slides: ReactNode[];\n    prev: () => void;\n    next: () => void;\n    autoSlider: AutoSlider;\n    isLeft: boolean;\n    isRight: boolean;\n};\n\nexport const StagedDraggable: React.FC<StagedDraggableProps> = ({\n    outerRef,\n    forwardRef,\n    slides,\n    prev,\n    next,\n    autoSlider,\n    isLeft,\n    isRight,\n}) => {\n    const [onEnter, onMove, onLeave] = useDragging(outerRef, forwardRef, prev, next, autoSlider, isLeft, isRight);\n\n    return (\n        <div\n            className=\"staged\"\n            ref={forwardRef}\n            onMouseDown={onEnter}\n            onTouchStart={onEnter}\n            onTouchMove={onMove}\n            onMouseMove={onMove}\n            onTouchEnd={onLeave}\n            onMouseUp={onLeave}\n            onMouseLeave={onLeave}>\n            {slides}\n        </div>\n    );\n};\n","import { useEffect, useMemo } from 'react';\n\nexport type AutoSlider = { start: () => void; stop: () => void };\nconst noopAutoSlider = { start: () => {}, stop: () => {} };\nconst noTimer: NodeJS.Timeout = 0 as any;\nconst createAutoSlider = (next: () => void, autoSlide?: number): AutoSlider => {\n    let id: NodeJS.Timeout = noTimer;\n    if (!autoSlide) return noopAutoSlider;\n    else\n        return {\n            start: () => {\n                if (!id) {\n                    id = setInterval(next, autoSlide);\n                }\n            },\n            stop: () => {\n                clearInterval(id);\n                id = noTimer;\n            },\n        };\n};\n\nexport const useAutoSlide = (next: () => void, autoSlide?: number): AutoSlider => {\n    const autoSlider = useMemo(() => createAutoSlider(next, autoSlide), [next, autoSlide]);\n    useEffect(() => {\n        autoSlider.start();\n        return autoSlider.stop;\n    }, [autoSlider]);\n    return autoSlider;\n};\n","import React, { ReactNode, useRef } from 'react';\nimport { useArrangeAfterResize } from './useArrangeAfterResize';\nimport { usePaging } from './usePaging';\nimport { useInitCssVars, SlideAnimation } from './css-vars';\nimport { StagedDraggable } from './StagedDraggable';\nimport { useAutoSlide } from './useAutoSlide';\nimport { useSlides } from './useSlides';\n\ntype StagedProps = {\n    children: ReactNode[];\n    amount?: number;\n    hideArrows?: boolean;\n    autoSlide?: number;\n    noDrag?: boolean;\n    infinity?: boolean;\n    animation?: SlideAnimation;\n};\n\nexport const Staged: React.FC<StagedProps> = ({\n    children,\n    amount = 1,\n    hideArrows,\n    autoSlide,\n    noDrag,\n    infinity = !!autoSlide,\n    animation,\n}) => {\n    const ref = useRef<HTMLDivElement | null>(null);\n    const stagedRef = useRef<HTMLDivElement | null>(null);\n    useArrangeAfterResize(ref);\n    useInitCssVars(ref, amount, animation);\n    const [{ pos, paged }, prev, next] = usePaging(ref, children.length, amount);\n    const autoSlider = useAutoSlide(next, autoSlide);\n    const slides = useSlides(children, amount, pos, paged);\n    const isLeft: boolean = !infinity && pos === 0;\n    const isRight: boolean = !infinity && pos >= children.length - amount;\n\n    return (\n        <div className=\"staged-outer\" ref={ref}>\n            {hideArrows || isLeft || <div className=\"staged-left-nav\" onClick={prev} />}\n            {noDrag ? (\n                <div className=\"staged\" ref={stagedRef}>\n                    {slides}\n                </div>\n            ) : (\n                <StagedDraggable\n                    outerRef={ref}\n                    forwardRef={stagedRef}\n                    prev={prev}\n                    next={next}\n                    slides={slides}\n                    autoSlider={autoSlider}\n                    isLeft={isLeft}\n                    isRight={isRight}\n                />\n            )}\n            {hideArrows || isRight || <div className=\"staged-right-nav\" onClick={next} />}\n        </div>\n    );\n};\n","import { useEffect } from 'react';\nimport { CssVars, StagedRef } from './css-vars';\n\nexport const useArrangeAfterResize = (ref: StagedRef) => {\n    useEffect(() => {\n        const rearrangeAfterResize = () => CssVars.finish(ref);\n        window.addEventListener('resize', rearrangeAfterResize);\n        return () => window.removeEventListener('resize', rearrangeAfterResize);\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n","import { useCallback, useState, useRef } from 'react';\nimport { CssVars, StagedRef } from './css-vars';\nimport { modulo } from './util';\n\ntype UsePagingReturnType = [{ pos: number, paged: number }, () => void, () => void];\n\nexport const usePaging = (ref: StagedRef, length: number, amount: number): UsePagingReturnType => {\n    const [state, setState] = useState({ pos: 0, paged: 0 });\n\n    const page = useCallback(\n        (factor: -1 | 1) => {\n            CssVars.transition(ref, factor === 1 ? CssVars.next : CssVars.prev).then(() => {\n                setState(({ pos, paged }) => ({ pos: modulo(pos + factor * amount, length), paged: paged + factor }));\n            });\n        },\n        [length, amount] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    const pageRef = useRef(page);\n    pageRef.current = page;\n\n    const prev = useCallback(() => pageRef.current(-1), []);\n    const next = useCallback(() => pageRef.current(1), []);\n\n    return [state, prev, next];\n};\n","import React, { ReactNode, useMemo, Fragment } from 'react';\nimport { modulo } from './util';\n\nexport const useSlides = (children: ReactNode[], amount: number, pos: number, paged: number): ReactNode[] => {\n    const amounts = useMemo(() => [...Array(amount * 3)].map((_, i) => i - amount), [amount]);\n    return useMemo(\n        () =>\n            amounts.map(i => (\n                <Fragment key={modulo(paged * amount + i, amount * 3)}>\n                    {children[modulo(pos + i, children.length)]}\n                </Fragment>\n            )),\n        [children, amounts, pos, amount, paged]\n    );\n};\n","export type Article = { authors: string, title: string, cover: string };\n\nexport const articles: Article[] = [\n    {\n        authors: 'Charlotte Link',\n        title: 'Die Suche',\n        cover: '/2016/09/10/17/18/book-1659717__340.jpg',\n    },\n    {\n        authors: 'Helen Fields',\n        title: 'Die perfekte Unschuld',\n        cover: '/2014/11/27/10/29/forest-547363__340.jpg',\n    },\n    {\n        authors: 'Carmen Korn',\n        title: 'Zeitenwende',\n        cover: '/2018/09/14/22/57/manhole-cover-3678303__340.jpg',\n    },\n    {\n        authors: 'Julia Kaufhold',\n        title: 'All die schönen Tage',\n        cover: '/2016/11/21/14/12/books-1845614__340.jpg',\n    },\n    {\n        authors: 'Rita Falk',\n        title: 'Eberhofer, Zefix!',\n        cover: '/2015/04/25/03/09/cork-738603__340.jpg',\n    },\n    {\n        authors: 'Andreas Gruber',\n        title: 'Rachewinter',\n        cover: '/2016/05/17/22/16/baby-1399332__340.jpg',\n    },\n    {\n        authors: 'Annette Hess',\n        title: 'Deutsches Haus',\n        cover: '/2017/11/28/22/25/lapland-2984828__340.jpg',\n    },\n    {\n        authors: 'Lori Nelson Spielman',\n        title: 'Heute schon für morgen träumen',\n        cover: '/2015/07/12/14/26/coffee-842020__340.jpg',\n    },\n    {\n        authors: 'Elizabeth George',\n        title: 'Wer Strafe verdient',\n        cover: '/2017/01/06/23/03/sunrise-1959227__340.jpg',\n    },\n    {\n        authors: 'Jussi Adler-Olsen',\n        title: 'Miese kleine Morde',\n        cover: '/2017/05/13/12/40/fashion-2309519__340.jpg',\n    },\n];\n","import React, { useCallback, useState } from 'react';\nimport { Article } from './mocks';\n\nexport type ImgProps = { article: Article };\n\nexport const Img: React.FC<ImgProps> = ({ article: { title, cover } }) => {\n    const [clicked, setClicked] = useState<boolean>(false);\n\n    const onClick = useCallback(() => {\n        setClicked(true);\n        setTimeout(() => setClicked(false), 250);\n    }, []);\n\n    return (\n        <img\n            className={clicked ? 'clicked' : ''}\n            src={`https://cdn.pixabay.com/photo${cover}`}\n            alt={title}\n            draggable={false}\n            onClick={onClick}\n        />\n    );\n};\n","import React from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nexport const Example1: React.FC = () => (\n    <div className=\"example-1\">\n        <div className=\"description\">\n            <h2>Example 1</h2>\n            <p>{'{ amount: 3, infinity: true }'}</p>\n        </div>\n        <Staged amount={3} infinity>\n            {articles.map((a, i) => (\n                <Img article={a} key={i} />\n            ))}\n        </Staged>\n    </div>\n);\n","import React, { useCallback, useState } from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nconst differentSort = [...articles];\ndifferentSort.sort(() => 0.5 - Math.random());\n\nexport const Example2: React.FC = () => {\n    const [autoSlide, setAutoSlide] = useState<number | undefined>(5000);\n\n    const onChange = useCallback(e => {\n        const next = +e.target.value;\n        if (!isNaN(next)) setAutoSlide(next || undefined);\n    }, []);\n\n    return (\n        <div className=\"example-2\">\n            <div className=\"description\">\n                <h2>Example 2</h2>\n                <p>{`{ hideArrows: true, animation: 'ease-in', autoSlide: ${autoSlide} }`}</p>\n                <label htmlFor=\"example-2-autoSlide\">autoSlide (in ms): </label>\n                <input id=\"example-2-autoSlide\" type=\"number\" value={String(autoSlide || '')} onChange={onChange} />\n            </div>\n            <div className=\"carousel\">\n                <Staged hideArrows autoSlide={autoSlide} animation=\"ease-in\">\n                    {differentSort.map((a, i) => (\n                        <Img article={a} key={i} />\n                    ))}\n                </Staged>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nexport const Example3: React.FC = () => (\n    <div className=\"example-3\">\n        <div className=\"description\">\n            <h2>Example 3</h2>\n            <p>{'{ amount: 2, noDrag: true }'}</p>\n        </div>\n        <Staged amount={2} noDrag>\n            {articles.slice(0, 6).map((a, i) => (\n                <Img article={a} key={i} />\n            ))}\n        </Staged>\n    </div>\n);\n","import React from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nexport const Example4: React.FC = () => (\n    <div className=\"example-4\">\n        <div className=\"description\">\n            <h2>Example 4</h2>\n            <p>{'Only 2 children'}</p>\n            <p>{`{ infinity: true, animation: 'cubic-bezier(.19,.91,.24,.87)' }`}</p>\n        </div>\n        <Staged infinity animation=\"cubic-bezier(.19,.91,.24,.87)\">\n            {articles.slice(0, 2).map((a, i) => (\n                <Img article={a} key={i} />\n            ))}\n        </Staged>\n    </div>\n);\n","import './assets/main.scss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\nimport { Example1 } from './Example1';\nimport { Example2 } from './Example2';\nimport { Example3 } from './Example3';\nimport { Example4 } from './Example4';\n\nexport const App: React.FC = () => (\n    <div className=\"App\">\n        <Example1 />\n        <Example2 />\n        <Example3 />\n        <Example4 />\n    </div>\n);\n"],"sourceRoot":""}