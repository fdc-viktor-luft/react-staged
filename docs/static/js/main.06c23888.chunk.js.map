{"version":3,"sources":["staged/css-vars.ts","staged/util.ts","staged/useDragging.ts","staged/useStopDragClick.ts","staged/StagedDraggable.tsx","staged/useAutoSlide.ts","staged/index.tsx","staged/useArrangeAfterResize.ts","staged/usePaging.ts","staged/useSlides.ts","mocks.ts","Img.tsx","Example1.tsx","Example2.tsx","Example3.tsx","index.tsx","App.tsx"],"names":["CssVar","XFactor","_set","name","value","current","style","setProperty","_setX","factor","CENTER","TRANSFORM_X","clientWidth","_transitionOne","ref","xFactor","TRANSITION_DURATION","finish","CssVars","prev","LEFT","next","RIGHT","center","update","transition","trans","Promise","resolve","setTimeout","amount","AMOUNT","String","modulo","num","base","pageX","e","touches","useDragging","stagedRef","autoSlider","stopClick","useRef","useEffect","stopDraggedClick","stopPropagation","addEventListener","removeEventListener","useStopDragClick","lastEnteredX","undefined","draggedX","useCallback","stop","currentX","totalDraggedX","start","Math","abs","StagedDraggable","outerRef","forwardRef","slides","onEnter","onMove","onLeave","className","onMouseDown","onTouchStart","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","onMouseLeave","noopAutoSlider","useAutoSlide","autoSlide","useMemo","id","setInterval","clearInterval","createAutoSlider","Staged","children","hideArrows","noDrag","rearrangeAfterResize","window","useArrangeAfterResize","useLayoutEffect","useInitCssVars","length","useState","pos","setPos","then","p","usePaging","amounts","Array","map","_","i","useSlides","onClick","articles","authors","title","cover","Img","article","clicked","setClicked","src","alt","draggable","Example1","a","key","differentSort","sort","random","Example2","setAutoSlide","onChange","target","isNaN","htmlFor","type","Example3","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06c23888.chunk.js","sourcesContent":["import { MutableRefObject, useLayoutEffect } from 'react';\n\nexport type StagedRef = MutableRefObject<HTMLDivElement | null>;\nexport const ANIMATION_TIME = 0.5; // in seconds\n\nenum CssVar {\n    TRANSITION_DURATION = '--s-trans-dur',\n    TRANSITION_ANIMATION = '--s-trans-animation',\n    TRANSFORM_X = '--s-transform-x',\n    AMOUNT = '--s-amount',\n}\n\nconst _set = ({ current }: StagedRef, name: CssVar, value: string): void => {\n    if (current) {\n        current.style.setProperty(name, value);\n    }\n};\n\nenum XFactor {\n    LEFT = 0,\n    CENTER = 1,\n    RIGHT = 2,\n}\n\nconst _setX = ({ current }: StagedRef, value: number = 0, factor: XFactor = XFactor.CENTER): void => {\n    if (current) {\n        current.style.setProperty(CssVar.TRANSFORM_X, `${-current.clientWidth * factor + value}px`);\n    }\n};\nconst _transitionOne = (ref: StagedRef, xFactor: XFactor) => {\n    _set(ref, CssVar.TRANSITION_DURATION, `${ANIMATION_TIME}s`);\n    _setX(ref, 0, xFactor);\n};\n\nconst prev = (ref: StagedRef) => _transitionOne(ref, XFactor.LEFT);\nconst center = (ref: StagedRef) => _transitionOne(ref, XFactor.CENTER);\nconst next = (ref: StagedRef) => _transitionOne(ref, XFactor.RIGHT);\nconst update = (ref: StagedRef, value: number) => _setX(ref, value);\nconst amount = (ref: StagedRef, value: number) => _set(ref, CssVar.AMOUNT, String(value));\n\nconst finish = (ref: StagedRef) => {\n    _set(ref, CssVar.TRANSITION_DURATION, '0');\n    _setX(ref, 0, XFactor.CENTER);\n};\n\nconst transition = (ref: StagedRef, trans: (ref: StagedRef) => void): Promise<void> => {\n    trans(ref);\n    return new Promise(resolve => {\n        setTimeout(() => {\n            finish(ref);\n            resolve();\n        }, 1000 * ANIMATION_TIME);\n    });\n};\n\nexport const useInitCssVars = (ref: StagedRef, amount: number) => {\n    useLayoutEffect(() => {\n        CssVars.amount(ref, amount);\n    }, [amount]); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport const CssVars = { prev, next, center, finish, update, transition, amount };\n","export const modulo = (num: number, base: number) => ((num % base) + base) % base;\n","import { CssVars, StagedRef } from './css-vars';\nimport { MouseEvent, TouchEvent, useCallback, useRef } from 'react';\nimport { useStopDragClick } from './useStopDragClick';\nimport { AutoSlider } from './useAutoSlide';\n\nconst DRAG_INTENT_RATE = 0.1; // in [0, 1]\n\ntype TouchOrMouseEvent = TouchEvent<HTMLDivElement> | MouseEvent<HTMLDivElement>;\nconst pageX = (e: TouchOrMouseEvent): number => ('touches' in e ? (e.touches[0] as any).pageX : e.pageX);\n\ntype TouchOrMouseCb = (e: TouchOrMouseEvent) => void;\ntype UseDraggingReturnType = [TouchOrMouseCb, TouchOrMouseCb, TouchOrMouseCb];\n\nexport const useDragging = (\n    ref: StagedRef,\n    stagedRef: StagedRef,\n    prev: () => void,\n    next: () => void,\n    autoSlider: AutoSlider\n): UseDraggingReturnType => {\n    const stopClick = useStopDragClick(stagedRef);\n    const lastEnteredX = useRef<number | void>(undefined);\n    const draggedX = useRef<number>(0);\n\n    const onEnter = useCallback(\n        e => {\n            autoSlider.stop();\n            lastEnteredX.current = pageX(e);\n        },\n        [autoSlider]\n    );\n\n    const onMove = useCallback(e => {\n        const currentX = lastEnteredX.current;\n        if (currentX !== undefined) {\n            draggedX.current = pageX(e) - currentX;\n            CssVars.update(ref, draggedX.current);\n        }\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const onLeave = useCallback(() => {\n        const { current } = ref;\n        const currentX = lastEnteredX.current;\n        const totalDraggedX = draggedX.current;\n        if (current && currentX !== undefined) {\n            // only inside here we need to perform any actions\n            autoSlider.start();\n            lastEnteredX.current = undefined;\n            draggedX.current = 0;\n            stopClick.current = !!totalDraggedX;\n            const wasDragIntent = Math.abs(totalDraggedX) / current.clientWidth > DRAG_INTENT_RATE;\n            if (wasDragIntent) {\n                return totalDraggedX < 0 ? next() : prev();\n            }\n            CssVars.transition(ref, CssVars.center);\n        }\n    }, [next, prev, stopClick, autoSlider]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return [onEnter, onMove, onLeave];\n};\n","import { MutableRefObject, useEffect, useRef } from 'react';\nimport { StagedRef } from './css-vars';\n\nexport const useStopDragClick = (ref: StagedRef): MutableRefObject<boolean> => {\n    const stopClick = useRef<boolean>(false);\n\n    useEffect(() => {\n        const { current } = ref;\n\n        const stopDraggedClick = (e: Event) => {\n            if (stopClick.current) e.stopPropagation();\n        };\n        if (current) {\n            current.addEventListener('click', stopDraggedClick, true);\n            return () => current.removeEventListener('click', stopDraggedClick, true);\n        }\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return stopClick;\n};\n","import React, { ReactNode } from 'react';\nimport { StagedRef } from './css-vars';\nimport { useDragging } from './useDragging';\nimport { AutoSlider } from './useAutoSlide';\n\nexport type StagedDraggableProps = {\n    outerRef: StagedRef;\n    forwardRef: StagedRef;\n    slides: ReactNode[];\n    prev: () => void;\n    next: () => void;\n    autoSlider: AutoSlider;\n};\n\nexport const StagedDraggable: React.FC<StagedDraggableProps> = ({\n    outerRef,\n    forwardRef,\n    slides,\n    prev,\n    next,\n    autoSlider,\n}) => {\n    const [onEnter, onMove, onLeave] = useDragging(outerRef, forwardRef, prev, next, autoSlider);\n\n    return (\n        <div\n            className=\"staged\"\n            ref={forwardRef}\n            onMouseDown={onEnter}\n            onTouchStart={onEnter}\n            onTouchMove={onMove}\n            onMouseMove={onMove}\n            onTouchEnd={onLeave}\n            onMouseUp={onLeave}\n            onMouseLeave={onLeave}>\n            {slides}\n        </div>\n    );\n};\n","import { useEffect, useMemo } from 'react';\n\nexport type AutoSlider = { start: () => void; stop: () => void };\nconst noopAutoSlider = { start: () => {}, stop: () => {} };\nconst noTimer: NodeJS.Timeout = 0 as any;\nconst createAutoSlider = (next: () => void, autoSlide?: number): AutoSlider => {\n    let id: NodeJS.Timeout = noTimer;\n    if (!autoSlide) return noopAutoSlider;\n    else\n        return {\n            start: () => {\n                if (!id) {\n                    id = setInterval(next, autoSlide);\n                }\n            },\n            stop: () => {\n                clearInterval(id);\n                id = noTimer;\n            },\n        };\n};\n\nexport const useAutoSlide = (next: () => void, autoSlide?: number): AutoSlider => {\n    const autoSlider = useMemo(() => createAutoSlider(next, autoSlide), [next, autoSlide]);\n    useEffect(() => {\n        autoSlider.start();\n        return autoSlider.stop;\n    }, [autoSlider]);\n    return autoSlider;\n};\n","import React, { ReactNode, useRef } from 'react';\nimport { useArrangeAfterResize } from './useArrangeAfterResize';\nimport { usePaging } from './usePaging';\nimport { useInitCssVars } from './css-vars';\nimport { StagedDraggable } from './StagedDraggable';\nimport { useAutoSlide } from './useAutoSlide';\nimport { useSlides } from './useSlides';\n\ntype StagedProps = {\n    children: ReactNode[];\n    amount?: number;\n    hideArrows?: boolean;\n    autoSlide?: number;\n    noDrag?: boolean;\n};\n\nexport const Staged: React.FC<StagedProps> = ({ children, amount = 1, hideArrows, autoSlide, noDrag }) => {\n    const ref = useRef<HTMLDivElement | null>(null);\n    const stagedRef = useRef<HTMLDivElement | null>(null);\n    useArrangeAfterResize(ref);\n    useInitCssVars(ref, amount);\n    const [pos, prev, next] = usePaging(ref, children.length, amount);\n    const autoSlider = useAutoSlide(next, autoSlide);\n    const slides = useSlides(children, amount, pos);\n\n    return (\n        <div className=\"staged-outer\" ref={ref}>\n            {hideArrows || <div className=\"staged-left-nav\" onClick={prev} />}\n            {noDrag ? (\n                <div className=\"staged\" ref={stagedRef}>\n                    {slides}\n                </div>\n            ) : (\n                <StagedDraggable\n                    outerRef={ref}\n                    forwardRef={stagedRef}\n                    prev={prev}\n                    next={next}\n                    slides={slides}\n                    autoSlider={autoSlider}\n                />\n            )}\n            {hideArrows || <div className=\"staged-right-nav\" onClick={next} />}\n        </div>\n    );\n};\n","import { useEffect } from 'react';\nimport { CssVars, StagedRef } from './css-vars';\n\nexport const useArrangeAfterResize = (ref: StagedRef) => {\n    useEffect(() => {\n        const rearrangeAfterResize = () => CssVars.finish(ref);\n        window.addEventListener('resize', rearrangeAfterResize);\n        return () => window.removeEventListener('resize', rearrangeAfterResize);\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n","import { useCallback, useState } from 'react';\nimport { CssVars, StagedRef } from './css-vars';\nimport { modulo } from './util';\n\ntype UsePagingReturnType = [number, () => void, () => void];\n\nexport const usePaging = (ref: StagedRef, length: number, amount: number): UsePagingReturnType => {\n    const [pos, setPos] = useState(0);\n\n    const prev = useCallback(() => {\n        CssVars.transition(ref, CssVars.prev).then(() => setPos(p => modulo(p - amount, length)));\n    }, [length]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const next = useCallback(() => {\n        CssVars.transition(ref, CssVars.next).then(() => setPos(p => modulo(p + amount, length)));\n    }, [length, amount]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return [pos, prev, next];\n};\n","import { ReactNode, useMemo } from 'react';\nimport { modulo } from './util';\n\nexport const useSlides = (children: ReactNode[], amount: number, pos: number): ReactNode[] => {\n    const amounts = useMemo(() => [...Array(amount * 3)].map((_, i) => i - amount), [amount]);\n    return useMemo(() => amounts.map(i => children[modulo(pos + i, children.length)]), [children, amounts, pos]);\n};\n","export type Article = { authors: string, title: string, cover: string };\n\nexport const articles: Article[] = [\n    {\n        authors: 'Charlotte Link',\n        title: 'Die Suche',\n        cover: '/2016/09/10/17/18/book-1659717__340.jpg',\n    },\n    {\n        authors: 'Helen Fields',\n        title: 'Die perfekte Unschuld',\n        cover: '/2014/11/27/10/29/forest-547363__340.jpg',\n    },\n    {\n        authors: 'Carmen Korn',\n        title: 'Zeitenwende',\n        cover: '/2018/09/14/22/57/manhole-cover-3678303__340.jpg',\n    },\n    {\n        authors: 'Julia Kaufhold',\n        title: 'All die schönen Tage',\n        cover: '/2016/11/21/14/12/books-1845614__340.jpg',\n    },\n    {\n        authors: 'Rita Falk',\n        title: 'Eberhofer, Zefix!',\n        cover: '/2015/04/25/03/09/cork-738603__340.jpg',\n    },\n    {\n        authors: 'Andreas Gruber',\n        title: 'Rachewinter',\n        cover: '/2016/05/17/22/16/baby-1399332__340.jpg',\n    },\n    {\n        authors: 'Annette Hess',\n        title: 'Deutsches Haus',\n        cover: '/2017/11/28/22/25/lapland-2984828__340.jpg',\n    },\n    {\n        authors: 'Lori Nelson Spielman',\n        title: 'Heute schon für morgen träumen',\n        cover: '/2015/07/12/14/26/coffee-842020__340.jpg',\n    },\n    {\n        authors: 'Elizabeth George',\n        title: 'Wer Strafe verdient',\n        cover: '/2017/01/06/23/03/sunrise-1959227__340.jpg',\n    },\n    {\n        authors: 'Jussi Adler-Olsen',\n        title: 'Miese kleine Morde',\n        cover: '/2017/05/13/12/40/fashion-2309519__340.jpg',\n    },\n];\n","import React, { useCallback, useState } from 'react';\nimport { Article } from './mocks';\n\nexport type ImgProps = { article: Article };\n\nexport const Img: React.FC<ImgProps> = ({ article: { title, cover } }) => {\n    const [clicked, setClicked] = useState<boolean>(false);\n\n    const onClick = useCallback(() => {\n        setClicked(true);\n        setTimeout(() => setClicked(false), 250);\n    }, []);\n\n    return (\n        <img\n            className={clicked ? 'clicked' : ''}\n            src={`https://cdn.pixabay.com/photo${cover}`}\n            alt={title}\n            draggable={false}\n            onClick={onClick}\n        />\n    );\n};\n","import React from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nexport const Example1: React.FC = () => (\n    <div className=\"example-1\">\n        <h2>Example 1</h2>\n        <p>{'{ amount: 3 }'}</p>\n        <Staged amount={3}>\n            {articles.map((a, i) => (\n                <Img article={a} key={i} />\n            ))}\n        </Staged>\n    </div>\n);\n","import React, { useCallback, useState } from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nconst differentSort = [...articles];\ndifferentSort.sort(() => 0.5 - Math.random());\n\nexport const Example2: React.FC = () => {\n    const [autoSlide, setAutoSlide] = useState<number | undefined>(5000);\n\n    const onChange = useCallback(e => {\n        const next = +e.target.value;\n        if (!isNaN(next)) setAutoSlide(next || undefined);\n    }, []);\n\n    return (\n        <div className=\"example-2\">\n            <h2>Example 2</h2>\n            <p>{`{ hideArrows: true, autoSlide: ${autoSlide} }`}</p>\n            <label htmlFor=\"example-2-autoSlide\">autoSlide (in ms): </label>\n            <input id=\"example-2-autoSlide\" type=\"number\" value={String(autoSlide || '')} onChange={onChange} />\n            <Staged hideArrows autoSlide={autoSlide}>\n                {differentSort.map((a, i) => (\n                    <Img article={a} key={i} />\n                ))}\n            </Staged>\n        </div>\n    );\n};\n","import React from 'react';\nimport { Staged } from './staged';\nimport { articles } from './mocks';\nimport { Img } from './Img';\n\nexport const Example3: React.FC = () => (\n    <div className=\"example-3\">\n        <h2>Example 3</h2>\n        <p>{'{ amount: 2, noDrag: true }'}</p>\n        <Staged amount={2} noDrag>\n            {articles.map((a, i) => (\n                <Img article={a} key={i} />\n            ))}\n        </Staged>\n    </div>\n);\n","import './assets/main.scss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\nimport { Example1 } from './Example1';\nimport { Example2 } from './Example2';\nimport { Example3 } from './Example3';\n\nexport const App: React.FC = () => (\n    <div className=\"App\">\n        <Example1 />\n        <Example2 />\n        <Example3 />\n    </div>\n);\n"],"sourceRoot":""}